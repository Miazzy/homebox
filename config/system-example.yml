# HomeBox configuration example.
# Copy this file into config.yml, and edit it with the values that suits you

###############################################################################
# Domain and hostname information
network:
  domain: example.com
  hostname: mail.example.com

###############################################################################
# Users
# List of users to create in the system
users:
- uid: john
  cn: John Doe
  first_name: John
  last_name: Doe
  mail: john.doe@example.com
  password: 'xIlm*uu7'
  aliases:
    - john@homebox.space
  external_accounts:
    - name: outlook
      type: live.com
      user: john.doe@live.co.uk
      password: ebsipmfwuqsopxsg
      get_junk: true
      get_trash: true
- uid: jane
  cn: Jane Doe
  first_name: Jane
  last_name: Doe
  mail: jane.doe@example.com
  password: 'Tlwril!8'
  aliases:
    - jane@homebox.space
  external_accounts:
    - name: work
      type: imap
      host: imap.company.com
      user: jane
      password: '0lih*(&nTrom'
      max_messages: 10
    - name: gmail
      type: gmail
      user: jane.doe@gmail.com
      password: yjkytvofwbqlcmry
      get_important: false
      get_junk: true
      get_trash: true
      max_messages: 10
    - name: yahoo
      type: ymail
      user: jane.doe@ymail.com
      password: zakxizvqpkxzibnn
      get_junk: true
      get_trash: true
      max_messages: 10


###############################################################################
# Email related options
mail:
  max_attachment_size: 25   # In megabytes
  autoconfig: true          # Support Thunderbird automatic configuration
  autodiscover: false       # Support MS Outlook automatic configuration (uses https)
  quota:
    default: 1G             # Maximum allowed mailbox size for your users.
                            # The safe maximum value will be automatically computed in a next version.
  discard_duplicates: true  # Discard duplicates messages. It is safe, but you can disable if you are worried
                            # The default timerange is 1h
  antivirus:                # Check inbound and outbound emails for viruses
    active: true            # or false
    action: drop            # Action to do when a virus is found in an email: bounce or drop
                            # be careful, bouncing external emails is a way to expose clamav usage
    send_warnings: false    # Send a warning email to - internal - users who are sending viruses
    quarantine: yes         # Place emails with a virus in quarantine, for further analysis
  impersonate:              # Activate dovecot "master" user feature, ideal for families and communities
    active: false           # https://wiki2.dovecot.org/Authentication/MasterUsers
    master: master          # master user name
    separator: '*'          # Separation char between master user / real user name. I personally use '/'
  #############################################################################
  import:                   # If you have users with "import" email active scripts, set this flag to true
    active: false           # A master user, with reduced rights will be created, to append miported emails
                            # in user's mailboxes.
  #############################################################################
  advanced_features: false  # Use some advanced features that will need the latest version of dovecot
                            # from stretch-backports, like those below.
                            # like sending emails to an international addresses (e.g. andr√©@homebox.space)
  recipient_delimiter: '+'  # The characters you want to use to split email address from mailbox, i.e.:
                            # when receiving a message to john+lists@example.com, it should go directly to
                            # the 'lists' folder... I personally use '~'

###############################################################################
# Default password policies for users
passwords:
  min_length: 8
  max_age: 31536000        # 365 days max
  max_failure: 5
  expire_warning: 259200   # 3 days
  require_nonalpha: true

###############################################################################
# System related
system:
  release: stretch
  login: true
  ssl: letsencrypt
  devel: false
  debug: false

###############################################################################
# Gandi automatic DNS update
# Your Gandi Key should be 24 characters long, e.g. zaNGbUVIvi1KbYb6PPMdiQLh
dns:
  update: true          # Automatic update of your DNS server
  test: true            # test mode: does not activate the DNS zone straight
  add_wildcard: false   # Create a wildcard entry to redirect all traffic to your box
  add_www: false        # Create a www entry to host a web site
  gandi:
    handle: JD123-GANDI
    key: zaNGbUVIvi1KbYb6PPMdiQLh

###############################################################################
# Once the system is in place, it is possible to use 'limit' for the rule, instead of any.
# It is also possible to use fail2ban, which is installed anyway
firewall:
  ssh:
    from: any
    rule: allow

###############################################################################
# Extra security values
security:
  auto_update: true
  app_armor: true
