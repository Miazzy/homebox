---
# Example file to create an ISO image installer with Debian preseed.

# 1. Setup SSH authentication:
# Copy your public key in "preseed/misc/root/.ssh/authorized_key".
# This key will be copied into the /root/.ssh/authorized_keys for you to connect to your linux server

# 2. Customisation:
# Copy this file to common.yml, and modify the values accordingly
# You can use a dedicated Linux machine as an ISO image builder, or use your workstation.
# Associated with libvirt, and snapshots, it can be used as a development environment for the mail server.

# 3. Build the ISO image
# Example of a command to run to build the ISO image
# ansible-playbook -v -i ../config/hosts.yml playbooks/build-cd.yml
# This will create the ISO images in /tmp folder. Use the DVD one for automatic installation.

# 4. Use a physical server or a VM to run the Debian installer.
# The whole installation should be automatic, with LVM and software RAID
# For LVM, there is a volume called "reserved" you can remove. This will let
# you resize the other volumes according to your needs.

# 5. See the documentation and the Ansible scripts into the install folder to install the mail server platform.

# System configuration: We use Software RAID, with two drives
system:
  hostname: mail
  version: 9.3
  arch: amd64
  hw:
    disks:
      - name: vda
        size: 500G
      - name: vdb
        size: 500G

# The proxy is optional. When specified, it is used to configure apt
network:
  main:
    domain: example.com
    proxy: 'http://proxy.example.com:3128/'
    iface: eth0

# Country and locales definition
country:
  code: uk

locale:
  id: en_GB
  language: en
  country: UK
  charset: UTF-8
  keymap: gb

# Repository specific values
repo:
  release: stretch
  main: ftp.uk.debian.org
  security: security.debian.org
  sections: main contrib non-free

time:
  zone: Europe/London
  utc: true
  ntp: true

# Accounts informations
# You can choose a strong password here,
# You can also delete the root password, lock the account,
# and connect to your machine only using SSH
accounts:
  root_password: H0meb0x

# Personalise the CD imgage
cdimage:
  profiles: ''

