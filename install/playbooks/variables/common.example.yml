# Common variables to the whole system

# System related
system:
  release: stretch
  ssl: letsencrypt

# Network related
network:
  smtp: smtp.example.com
  imap: imap.example.com
  hostname: mail.example.com
  domain: example.com

# Email related
mail:
  admin:
    name: "John Doe"
    email: admin@example.com
    user: "john"

# LDAP configuration
ldap:
  hostname: ldap.example.com
  organization:
    domain: example.com
    base: dc=example,dc=com
  users:
    dn: ou=users,dc=example,dc=com
  groups:
    dn: ou=groups,dc=example,dc=com
  manager:
    uid: manager
    password: homebox
  admin:
    dn: cn=admin,dc=example,dc=com
    desc: administrator account
    password: homebox

# Options
options:
  accounts:
    login: true
  local_admin: true


# Email related
mail:
  admin:
    name: "John Doe"
    email: jdoe@example.com
    user: jdoe

# For automatic DNS update
dns:
  gandi:
    handle: JD123-GANDI
    key: zaNGbUVIvi1KbYb6PPMdiQLh    # Your Gandi Key should be 24 characters long, e.g. zaNGbUVIvi1KbYb6PPMdiQLh

# Password policy:
passwords:
  min_length: 8
  max_age: 31536000        # 365 days max
  max_failure: 5
  expire_warning: 259200   # 3 days
  require_nonalpha: true

# Once the system is in place, it is possible to use 'limit' for the rule, instead of any.
# It is also possible to use fail2ban, which is installed anyway
firewall:
  ssh:
    from: any
    rule: allow

# Automatically install security updates?x
auto_update:
  security: true


###############################################################################
# Antispam features
rspamd:
  proxy:
    port: 11332
  normal:
    port: 11333
  controller:
    port: 11334
      
antispam:
  milter:
    name: rspamd
    port: '{{ rspamd.proxy.port }}'
