##
## Plugin settings
##

# All wanted plugins must be listed in mail_plugins setting before any of the
# settings take effect. See <doc/wiki/Plugins.txt> for list of plugins and
# their configuration. Note that %variable expansion is done for all values.

plugin {
  sieve_plugins = sieve_imapsieve sieve_extprograms

  # From elsewhere to Junk folder
  imapsieve_mailbox1_name = Junk
  imapsieve_mailbox1_causes = COPY
  imapsieve_mailbox1_before = file:/etc/dovecot/sieve/report-spam.sieve

  # From Junk folder to elsewhere
  imapsieve_mailbox2_name = *
  imapsieve_mailbox2_from = Junk
  imapsieve_mailbox2_causes = COPY
  imapsieve_mailbox2_before = file:/etc/dovecot/sieve/report-ham.sieve

  # From anywhere to the archives folder (check for duplicates)
  imapsieve_mailbox3_name = *
  imapsieve_mailbox3_from = Archives
  imapsieve_mailbox3_causes = APPEND,COPY
  imapsieve_mailbox3_before = file:/etc/dovecot/sieve/append-checks.sieve

  # From anywhere to the sent folder (check for duplicates)
  imapsieve_mailbox3_name = *
  imapsieve_mailbox3_from = Sent
  imapsieve_mailbox3_causes = APPEND,COPY
  imapsieve_mailbox3_before = file:/etc/dovecot/sieve/append-checks.sieve

  sieve_pipe_bin_dir = /etc/dovecot/sieve

  sieve_global_extensions = +vnd.dovecot.pipe
}